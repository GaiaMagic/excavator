(function(e){"use strict";var n='[data-toggle="dropdown"]',t=".disabled, :disabled",r=".dropdown-backdrop",i="dropdown-menu",a="dropdown-submenu",o=".bs.dropdown.data-api",l=".bs.dropdown",d="open",s="ontouchstart"in document.documentElement,f;function c(n){e(n).on("click"+l,this.toggle)}var p=c.prototype;p.toggle=function(n){var o=e(this);if(o.is(t))return;var l=v(o);var c=l.hasClass(d);var p=l.hasClass(a);var m=p?g(l):null;h(n,m);if(!c){if(!m)m=[l];if(s&&!l.closest(".navbar-nav").length&&!m[0].find(r).length){e('<div class="'+r.substr(1)+'"/>').appendTo(m[0]).on("click",h)}for(var b=0,w=m.length;b<w;b++){if(!m[b].hasClass(d)){m[b].addClass(d);u(m[b].children("."+i),m[b])}}f=m[0]}return false};p.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault();t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=v(r);var a=i.hasClass("open");if(!a||a&&t.keyCode==27){if(t.which==27)i.find(n).trigger("focus");return r.trigger("click")}var o=" li:not(.divider):visible a";var l="li:not(.divider):visible > input:not(disabled) ~ label";var d=i.find(l+", "+'[role="menu"]'+o+', [role="listbox"]'+o);if(!d.length)return;var s=d.index(d.filter(":focus"));if(t.keyCode==38&&s>0)s--;if(t.keyCode==40&&s<d.length-1)s++;if(!~s)s=0;d.eq(s).trigger("focus")};p.change=function(t){var r,a,o,l,d="",s;a=e(this).closest("."+i);o=a.parent().find("[data-label-placement]");if(!o||!o.length){o=a.parent().find(n)}if(!o||!o.length||o.data("placeholder")===false)return;o.data("placeholder")==undefined&&o.data("placeholder",e.trim(o.text()));d=e.data(o[0],"placeholder");s=a.find("li > input:checked");if(s.length){d=[];s.each(function(){var n=e(this).parent().find("label").eq(0),t=n.find(".data-label");if(t.length){var r=e("<p></p>");r.append(t.clone());n=r.html()}else{n=n.html()}n&&d.push(e.trim(n))});d=d.length<4?d.join(", "):d.length+" selected"}var f=o.find(".caret");o.html(d||"&nbsp;");if(f.length)o.append(" ")&&f.appendTo(o)};function u(e,n){if(e.hasClass("pull-center")){e.css("margin-right",e.outerWidth()/-2)}if(e.hasClass("pull-middle")){e.css("margin-top",e.outerHeight()/-2-n.outerHeight()/2)}}function h(n,t){if(f){if(!t){t=[f]}var a;if(f[0]!==t[0][0]){a=f}else{a=t[t.length-1];if(a.parent().hasClass(i)){a=a.parent()}}a.find("."+d).removeClass(d);if(a.hasClass(d))a.removeClass(d);if(a===f){f=null;e(r).remove()}}}function g(e){var t=[e];var r;while(!r||r.hasClass(a)){r=(r||e).parent();if(r.hasClass(i)){r=r.parent()}if(r.children(n)){t.unshift(r)}}return t}function v(n){var t=n.attr("data-target");if(!t){t=n.attr("href");t=t&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,"")}var r=t&&e(t);return r&&r.length?r:n.parent()}var m=e.fn.dropdown;e.fn.dropdown=function(n){return this.each(function(){var t=e(this);var r=t.data("bs.dropdown");if(!r)t.data("bs.dropdown",r=new c(this));if(typeof n=="string")r[n].call(t)})};e.fn.dropdown.Constructor=c;e.fn.dropdown.clearMenus=function(t){e(r).remove();e("."+d+" "+n).each(function(){var n=v(e(this));var r={relatedTarget:this};if(!n.hasClass("open"))return;n.trigger(t=e.Event("hide"+l,r));if(t.isDefaultPrevented())return;n.removeClass("open").trigger("hidden"+l,r)});return this};e.fn.dropdown.noConflict=function(){e.fn.dropdown=m;return this};e(document).off(o).on("click"+o,h).on("click"+o,n,p.toggle).on("click"+o,'.dropdown-menu > li > input[type="checkbox"] ~ label, .dropdown-menu > li > input[type="checkbox"], .dropdown-menu.noclose > li',function(e){e.stopPropagation()}).on("change"+o,'.dropdown-menu > li > input[type="checkbox"], .dropdown-menu > li > input[type="radio"]',p.change).on("keydown"+o,n+', [role="menu"], [role="listbox"]',p.keydown)})(jQuery);